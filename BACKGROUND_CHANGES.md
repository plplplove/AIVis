# üé® Background Editing - –ó–º—ñ–Ω–∏

## ‚úÖ –©–æ –∑—Ä–æ–±–ª–µ–Ω–æ:

### 1. **PNG –∑ –ø—Ä–æ–∑–æ—Ä–∏–º —Ñ–æ–Ω–æ–º** 
- Remove Background —Ç–µ–ø–µ—Ä –∑–±–µ—Ä—ñ–≥–∞—î PNG –∑ –ø—Ä–æ–∑–æ—Ä–∏–º —Ñ–æ–Ω–æ–º (ARGB_8888)
- –ö–æ–¥ –≤–∂–µ –±—É–≤ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π, –ø—Ä–∞—Ü—é—î –∑ –∞–ª—å—Ñ–∞-–∫–∞–Ω–∞–ª–æ–º

### 2. **Blur –∑ —Å–ª–∞–π–¥–µ—Ä–æ–º**
- –î–æ–¥–∞–Ω–æ —Å–ª–∞–π–¥–µ—Ä –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—é —ñ–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—ñ —Ä–æ–∑–º–∏—Ç—Ç—è (5-50)
- Blur —Ç–µ–ø–µ—Ä –±—ñ–ª—å—à –ø–æ–º—ñ—Ç–Ω–∏–π —ñ –∫–µ—Ä–æ–≤–∞–Ω–∏–π
- –°–ª–∞–π–¥–µ—Ä –∑'—è–≤–ª—è—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—Ä–∏ –≤–∏–±–æ—Ä—ñ Blur

### 3. **Replace –∑ –≥–∞–ª–µ—Ä–µ—ó**
- –î–æ–¥–∞–Ω–æ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –≤–∏–±—Ä–∞—Ç–∏ —Ñ–æ–Ω –∑ –≥–∞–ª–µ—Ä–µ—ó
- –ö–Ω–æ–ø–∫–∞ –∑ —ñ–∫–æ–Ω–∫–æ—é –≥–∞–ª–µ—Ä–µ—ó –¥–ª—è –≤–∏–±–æ—Ä—É
- Preview –≤–∏–±—Ä–∞–Ω–æ–≥–æ —Ñ–æ–Ω—É
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è —Ñ–æ–Ω—É –ø—ñ–¥ —Ä–æ–∑–º—ñ—Ä —Ñ–æ—Ç–æ

### 4. **–ù—ñ—á–æ–≥–æ –Ω–µ –≤–∏–±—Ä–∞–Ω–æ –ø–æ –¥–µ—Ñ–æ–ª—Ç—É**
- `selectedBackgroundOption` —Ç–µ–ø–µ—Ä `NONE` –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º
- –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –ø–æ–≤–∏–Ω–µ–Ω –≤–∏–±—Ä–∞—Ç–∏ –æ–ø—Ü—ñ—é –≤—Ä—É—á–Ω—É

### 5. **Undo/Redo –∑ –ø—Ä–æ–≥—Ä–µ—Å-–±–∞—Ä–æ–º**
- –î–æ–¥–∞–Ω–æ –æ–±—Ä–æ–±–∫—É Background –≤ `performUndo()` —ñ `performRedo()`
- –ü–æ–∫–∞–∑—É—î—Ç—å—Å—è –ø—Ä–æ–≥—Ä–µ—Å-–±–∞—Ä –Ω–∞ –≤–∏–±—Ä–∞–Ω—ñ–π –æ–ø—Ü—ñ—ó –ø—ñ–¥ —á–∞—Å –æ–±—Ä–æ–±–∫–∏
- `selectedBackgroundOption` –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ `EditorState`
- –ü–æ–≤–Ω–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ undo/redo –¥–ª—è –≤—Å—ñ—Ö background –æ–ø–µ—Ä–∞—Ü—ñ–π

## üìù –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ:

### –ù–æ–≤—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –≤ BackgroundPanel:
```kotlin
@Composable
fun BackgroundPanel(
    selectedOption: BackgroundOption,
    onOptionSelected: (BackgroundOption) -> Unit,
    isProcessing: Boolean = false,
    blurRadius: Float = 25f,                    // –ù–û–í–ò–ô
    onBlurRadiusChange: (Float) -> Unit = {},   // –ù–û–í–ò–ô
    selectedBackgroundImage: Bitmap? = null,     // –ù–û–í–ò–ô
    onSelectBackgroundImage: () -> Unit = {},    // –ù–û–í–ò–ô
    modifier: Modifier = Modifier
)
```

### –ù–æ–≤—ñ –æ–ø—Ü—ñ—ó:
- `BackgroundOption.NONE` - –Ω—ñ—á–æ–≥–æ –Ω–µ –≤–∏–±—Ä–∞–Ω–æ (–¥–µ—Ñ–æ–ª—Ç)
- `BackgroundOption.REMOVE` - –≤–∏–¥–∞–ª–∏—Ç–∏ —Ñ–æ–Ω (PNG)
- `BackgroundOption.BLUR` - —Ä–æ–∑–º–∏—Ç–∏ —Ñ–æ–Ω (–∑ —Å–ª–∞–π–¥–µ—Ä–æ–º)
- `BackgroundOption.REPLACE` - –∑–∞–º—ñ–Ω–∏—Ç–∏ —Ñ–æ–Ω (–≥–∞–ª–µ—Ä–µ—è –∞–±–æ –∫–æ–ª—ñ—Ä)

### –û–Ω–æ–≤–ª–µ–Ω–∏–π UseCase:
```kotlin
suspend operator fun invoke(
    bitmap: Bitmap,
    option: BackgroundOption,
    blurRadius: Int = 25,              // –ù–û–í–ò–ô
    backgroundColor: Int? = null,
    backgroundImage: Bitmap? = null    // –ù–û–í–ò–ô
): Bitmap
```

### EditorState:
```kotlin
data class EditorState(
    // ... —ñ–Ω—à—ñ –ø–æ–ª—è
    val selectedBackgroundOption: BackgroundOption = BackgroundOption.NONE  // –ù–û–í–ò–ô
)
```

## üéØ –Ø–∫ –ø—Ä–∞—Ü—é—î:

1. **–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤—ñ–¥–∫—Ä–∏–≤–∞—î Background tool** ‚Üí –Ω—ñ—á–æ–≥–æ –Ω–µ –≤–∏–±—Ä–∞–Ω–æ
2. **–í–∏–±–∏—Ä–∞—î –æ–ø—Ü—ñ—é** (Remove/Blur/Replace) ‚Üí –∑'—è–≤–ª—è—î—Ç—å—Å—è –ø—Ä–æ–≥—Ä–µ—Å-–±–∞—Ä
3. **–î–ª—è Blur** ‚Üí –∑'—è–≤–ª—è—î—Ç—å—Å—è —Å–ª–∞–π–¥–µ—Ä —ñ–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—ñ
4. **–î–ª—è Replace** ‚Üí –∑'—è–≤–ª—è—î—Ç—å—Å—è –∫–Ω–æ–ø–∫–∞ –≤–∏–±–æ—Ä—É —Ñ–æ–Ω—É –∑ –≥–∞–ª–µ—Ä–µ—ó
5. **–û–±—Ä–æ–±–∫–∞** ‚Üí –ø–æ–∫–∞–∑—É—î—Ç—å—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç
6. **Undo/Redo** ‚Üí –ø—Ä–∞—Ü—é—î –∑ –ø—Ä–æ–≥—Ä–µ—Å-–±–∞—Ä–æ–º —ñ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è–º —Å—Ç–∞–Ω—É

## üöÄ –ì–æ—Ç–æ–≤–æ –¥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è!

–í—Å—ñ –∑–º—ñ–Ω–∏ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ —ñ –≥–æ—Ç–æ–≤—ñ –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è.
