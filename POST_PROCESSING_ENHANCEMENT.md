# üé® –ü–æ—Å—Ç-–æ–±—Ä–æ–±–∫–∞ –¥–ª—è –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è —è–∫–æ—Å—Ç—ñ AI Style Transfer

## ‚úÖ –©–æ –¥–æ–¥–∞–Ω–æ:

### –ü—ñ—Å–ª—è AI —Å—Ç–∏–ª—ñ–∑–∞—Ü—ñ—ó –∑–∞—Å—Ç–æ—Å–æ–≤—É—î—Ç—å—Å—è 3-–µ—Ç–∞–ø–Ω–∞ –ø–æ—Å—Ç-–æ–±—Ä–æ–±–∫–∞:

```kotlin
applyPostProcessing():
1. enhanceContrast(+15%)   ‚Üí –ß—ñ—Ç–∫—ñ—à—ñ –ø–µ—Ä–µ—Ö–æ–¥–∏
2. enhanceSharpness(+25%)  ‚Üí –†—ñ–∑–∫—ñ—à—ñ –∫—Ä–∞—ó —Ç–∞ –¥–µ—Ç–∞–ª—ñ
3. enhanceSaturation(+10%) ‚Üí –Ø—Å–∫—Ä–∞–≤—ñ—à—ñ –∫–æ–ª—å–æ—Ä–∏
```

## üîß –î–µ—Ç–∞–ª—ñ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó:

### 1. **–ö–æ–Ω—Ç—Ä–∞—Å—Ç (+15%)**
```kotlin
enhanceContrast(bitmap, 0.15f)
```
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î ColorMatrix
- –ü—ñ–¥–≤–∏—â—É—î —Ä—ñ–∑–Ω–∏—Ü—é –º—ñ–∂ —Å–≤—ñ—Ç–ª–∏–º–∏ —Ç–∞ —Ç–µ–º–Ω–∏–º–∏ –æ–±–ª–∞—Å—Ç—è–º–∏
- –†–æ–±–∏—Ç—å –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –±—ñ–ª—å—à "–æ–±'—î–º–Ω–∏–º"
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ì–ª–∏–±—à—ñ —Ç—ñ–Ω—ñ, —è—Å–∫—Ä–∞–≤—ñ—à—ñ —Å–≤—ñ—Ç–ª–∞

### 2. **–†—ñ–∑–∫—ñ—Å—Ç—å (+25%)**
```kotlin
enhanceSharpness(bitmap, 0.25f)
```
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î convolution kernel (3x3)
- –ü—ñ–¥–∫—Ä–µ—Å–ª—é—î –∫—Ä–∞—ó —Ç–∞ –¥–µ—Ç–∞–ª—ñ
- –ó–º–µ–Ω—à—É—î "—Ä–æ–∑–º–∏—Ç—ñ—Å—Ç—å" –ø—ñ—Å–ª—è –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ß—ñ—Ç–∫—ñ—à—ñ –∫–æ–Ω—Ç—É—Ä–∏, –º–µ–Ω—à–µ blur

**Kernel:**
```
[  0,  -0.25,   0   ]
[-0.25,  2.0, -0.25 ]
[  0,  -0.25,   0   ]
```

### 3. **–ù–∞—Å–∏—á–µ–Ω—ñ—Å—Ç—å (+10%)**
```kotlin
enhanceSaturation(bitmap, 0.1f)
```
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î ColorMatrix.setSaturation()
- –†–æ–±–∏—Ç—å –∫–æ–ª—å–æ—Ä–∏ –±—ñ–ª—å—à —è—Å–∫—Ä–∞–≤–∏–º–∏
- –ü—ñ–¥–∫—Ä–µ—Å–ª—é—î —Ö—É–¥–æ–∂–Ω—ñ–π —Å—Ç–∏–ª—å
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ñ–∏–≤—ñ—à—ñ, –Ω–∞—Å–∏—á–µ–Ω—ñ—à—ñ –∫–æ–ª—å–æ—Ä–∏

## üìä –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è:

### –ë–µ–∑ –ø–æ—Å—Ç-–æ–±—Ä–æ–±–∫–∏:
- ‚ö†Ô∏è –¢—Ä–æ—Ö–∏ —Ä–æ–∑–º–∏—Ç–æ –ø—ñ—Å–ª—è upscale
- ‚ö†Ô∏è –ù–∏–∑—å–∫–∏–π –∫–æ–Ω—Ç—Ä–∞—Å—Ç
- ‚ö†Ô∏è –ë–ª—ñ–¥—É–≤–∞—Ç—ñ –∫–æ–ª—å–æ—Ä–∏
- ‚ö†Ô∏è –ú'—è–∫—ñ –∫—Ä–∞—ó

### –ó –ø–æ—Å—Ç-–æ–±—Ä–æ–±–∫–æ—é:
- ‚úÖ –ß—ñ—Ç–∫—ñ –¥–µ—Ç–∞–ª—ñ
- ‚úÖ –í–∏—Ä–∞–∑–Ω–∏–π –∫–æ–Ω—Ç—Ä–∞—Å—Ç
- ‚úÖ –Ø—Å–∫—Ä–∞–≤—ñ –∫–æ–ª—å–æ—Ä–∏
- ‚úÖ –†—ñ–∑–∫—ñ –∫—Ä–∞—ó
- ‚úÖ –ü—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∏–π –≤–∏–≥–ª—è–¥

## üéØ –í–ø–ª–∏–≤ –Ω–∞ —è–∫—ñ—Å—Ç—å:

### –ö–æ–Ω—Ç—Ä–∞—Å—Ç (+15%):
- –†–æ–±–∏—Ç—å –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –±—ñ–ª—å—à "–¥—Ä–∞–º–∞—Ç–∏—á–Ω–∏–º"
- –ü—ñ–¥–∫—Ä–µ—Å–ª—é—î –≥–ª–∏–±–∏–Ω—É
- –ü–æ–∫—Ä–∞—â—É—î —Å–ø—Ä–∏–π–Ω—è—Ç—Ç—è –¥–µ—Ç–∞–ª–µ–π

### –†—ñ–∑–∫—ñ—Å—Ç—å (+25%):
- –ö–æ–º–ø–µ–Ω—Å—É—î –≤—Ç—Ä–∞—Ç—É –¥–µ—Ç–∞–ª–µ–π –ø—Ä–∏ 384‚Üíoriginal
- –†–æ–±–∏—Ç—å –∫—Ä–∞—ó —á—ñ—Ç–∫—ñ—à–∏–º–∏
- –ó–º–µ–Ω—à—É—î "–º'—è–∫—ñ—Å—Ç—å" AI –º–æ–¥–µ–ª—ñ

### –ù–∞—Å–∏—á–µ–Ω—ñ—Å—Ç—å (+10%):
- –ü—ñ–¥–∫—Ä–µ—Å–ª—é—î —Ö—É–¥–æ–∂–Ω—ñ–π —Å—Ç–∏–ª—å
- –†–æ–±–∏—Ç—å –∫–æ–ª—å–æ—Ä–∏ –∂–∏–≤—ñ—à–∏–º–∏
- –û—Å–æ–±–ª–∏–≤–æ –¥–æ–±—Ä–µ –¥–ª—è Oil Painting, Pop Art, Watercolor

## ‚ö° –ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å:

### –ß–∞—Å –æ–±—Ä–æ–±–∫–∏:
- –ö–æ–Ω—Ç—Ä–∞—Å—Ç: ~50ms (ColorMatrix - —à–≤–∏–¥–∫–æ)
- –†—ñ–∑–∫—ñ—Å—Ç—å: ~200-300ms (convolution - –ø–æ–≤—ñ–ª—å–Ω—ñ—à–µ)
- –ù–∞—Å–∏—á–µ–Ω—ñ—Å—Ç—å: ~50ms (ColorMatrix - —à–≤–∏–¥–∫–æ)
- **–ó–∞–≥–∞–ª–æ–º**: +300-400ms –¥–æ –∑–∞–≥–∞–ª—å–Ω–æ–≥–æ —á–∞—Å—É

### –ü–∞–º'—è—Ç—å:
- –°—Ç–≤–æ—Ä—é—î —Ç–∏–º—á–∞—Å–æ–≤—ñ bitmap
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–≤—ñ–ª—å–Ω—è—î –ø—ñ—Å–ª—è –æ–±—Ä–æ–±–∫–∏
- –ù–µ –∑–±—ñ–ª—å—à—É—î peak memory –∑–Ω–∞—á–Ω–æ

## üé® –ü—Ä–∏–∫–ª–∞–¥–∏ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è:

### Oil Painting:
- –ö–æ–Ω—Ç—Ä–∞—Å—Ç ‚Üí –≥–ª–∏–±—à—ñ —Ç—ñ–Ω—ñ –≤ –º–∞–∑–∫–∞—Ö
- –†—ñ–∑–∫—ñ—Å—Ç—å ‚Üí —á—ñ—Ç–∫—ñ—à—ñ –∫—Ä–∞—ó –º–∞–∑–∫—ñ–≤
- –ù–∞—Å–∏—á–µ–Ω—ñ—Å—Ç—å ‚Üí —è—Å–∫—Ä–∞–≤—ñ—à—ñ –∫–æ–ª—å–æ—Ä–∏

### Watercolor:
- –ö–æ–Ω—Ç—Ä–∞—Å—Ç ‚Üí –≤–∏—Ä–∞–∑–Ω—ñ—à—ñ –ø–µ—Ä–µ—Ö–æ–¥–∏
- –†—ñ–∑–∫—ñ—Å—Ç—å ‚Üí —á—ñ—Ç–∫—ñ—à—ñ –∫–æ–Ω—Ç—É—Ä–∏
- –ù–∞—Å–∏—á–µ–Ω—ñ—Å—Ç—å ‚Üí –∂–∏–≤—ñ—à—ñ –ø–∞—Å—Ç–µ–ª—å–Ω—ñ —Ç–æ–Ω–∏

### Cartoon:
- –ö–æ–Ω—Ç—Ä–∞—Å—Ç ‚Üí —á—ñ—Ç–∫—ñ—à—ñ –º–µ–∂—ñ
- –†—ñ–∑–∫—ñ—Å—Ç—å ‚Üí —Ä—ñ–∑–∫—ñ –ª—ñ–Ω—ñ—ó
- –ù–∞—Å–∏—á–µ–Ω—ñ—Å—Ç—å ‚Üí —è—Å–∫—Ä–∞–≤—ñ –º—É–ª—å—Ç—è—à–Ω—ñ –∫–æ–ª—å–æ—Ä–∏

### Van Gogh:
- –ö–æ–Ω—Ç—Ä–∞—Å—Ç ‚Üí –¥—Ä–∞–º–∞—Ç–∏—á–Ω–µ –Ω–µ–±–æ
- –†—ñ–∑–∫—ñ—Å—Ç—å ‚Üí –≤–∏—Ä–∞–∑–Ω—ñ –º–∞–∑–∫–∏
- –ù–∞—Å–∏—á–µ–Ω—ñ—Å—Ç—å ‚Üí —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω—ñ —Å–∏–Ω—ñ/–∂–æ–≤—Ç—ñ —Ç–æ–Ω–∏

## üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:

### –Ø–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –±—ñ–ª—å—à–µ/–º–µ–Ω—à–µ –µ—Ñ–µ–∫—Ç—É:

```kotlin
// –£ StyleTransferModel.kt, —Ñ—É–Ω–∫—Ü—ñ—è applyPostProcessing()

// –ë—ñ–ª—å—à–µ –∫–æ–Ω—Ç—Ä–∞—Å—Ç—É (–∞–≥—Ä–µ—Å–∏–≤–Ω—ñ—à–µ)
result = enhanceContrast(result, 0.25f)  // –ë—É–ª–æ: 0.15f

// –ú–µ–Ω—à–µ —Ä—ñ–∑–∫–æ—Å—Ç—ñ (–º'—è–∫—à–µ)
result = enhanceSharpness(result, 0.15f)  // –ë—É–ª–æ: 0.25f

// –ë—ñ–ª—å—à–µ –Ω–∞—Å–∏—á–µ–Ω–æ—Å—Ç—ñ (—è—Å–∫—Ä–∞–≤—ñ—à–µ)
result = enhanceSaturation(result, 0.2f)  // –ë—É–ª–æ: 0.1f
```

### –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω—ñ –¥—ñ–∞–ø–∞–∑–æ–Ω–∏:
- **–ö–æ–Ω—Ç—Ä–∞—Å—Ç**: 0.1 - 0.3 (0.15 –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ)
- **–†—ñ–∑–∫—ñ—Å—Ç—å**: 0.15 - 0.4 (0.25 –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ)
- **–ù–∞—Å–∏—á–µ–Ω—ñ—Å—Ç—å**: 0.05 - 0.2 (0.1 –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ)

## ‚ö†Ô∏è –û–±–º–µ–∂–µ–Ω–Ω—è:

### –†—ñ–∑–∫—ñ—Å—Ç—å –º–æ–∂–µ –¥–∞–≤–∞—Ç–∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∏:
- –Ø–∫—â–æ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –≤–∂–µ –¥—É–∂–µ —Ä—ñ–∑–∫–µ
- –Ø–∫—â–æ —î JPEG compression artifacts
- –†—ñ—à–µ–Ω–Ω—è: –∑–º–µ–Ω—à–∏—Ç–∏ amount –¥–æ 0.15

### –ö–æ–Ω—Ç—Ä–∞—Å—Ç –º–æ–∂–µ "–≤–∏—Ä—ñ–∑–∞—Ç–∏" –¥–µ—Ç–∞–ª—ñ:
- –Ø–∫—â–æ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –¥—É–∂–µ —Ç–µ–º–Ω–µ/—Å–≤—ñ—Ç–ª–µ
- –†—ñ—à–µ–Ω–Ω—è: –∑–º–µ–Ω—à–∏—Ç–∏ amount –¥–æ 0.1

### –ù–∞—Å–∏—á–µ–Ω—ñ—Å—Ç—å –º–æ–∂–µ "–ø–µ—Ä–µ—Å–∏—á–∏—Ç–∏":
- –Ø–∫—â–æ —Å—Ç–∏–ª—å –≤–∂–µ –¥—É–∂–µ —è—Å–∫—Ä–∞–≤–∏–π (Pop Art)
- –†—ñ—à–µ–Ω–Ω—è: –∑–º–µ–Ω—à–∏—Ç–∏ amount –¥–æ 0.05

## üì± –õ–æ–≥–∏:

```
D/StyleTransfer: applyStyle: Inference complete
D/StyleTransfer: applyStyle: Converting output to bitmap...
D/StyleTransfer: applyStyle: Applying post-processing... ‚Üê –ù–û–í–ò–ô –ö–†–û–ö
D/StyleTransfer: applyStyle: Scaling result to 1920x1080
D/StyleTransfer: applyStyle: SUCCESS!
```

## ‚úÖ –ü—ñ–¥—Å—É–º–æ–∫:

**–ó–∞—Ä–∞–∑ –¥–æ–¥–∞—Ç–æ–∫:**
- ‚úÖ v2 fp16 –º–æ–¥–µ–ª—ñ (–Ω–∞–π–∫—Ä–∞—â–∞ —Ç–æ—á–Ω—ñ—Å—Ç—å)
- ‚úÖ XNNPACK (—à–≤–∏–¥—à–µ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è)
- ‚úÖ High-quality scaling (AntiAlias + Dither)
- ‚úÖ **–ü–æ—Å—Ç-–æ–±—Ä–æ–±–∫–∞ (–∫–æ–Ω—Ç—Ä–∞—Å—Ç + —Ä—ñ–∑–∫—ñ—Å—Ç—å + –Ω–∞—Å–∏—á–µ–Ω—ñ—Å—Ç—å)** ‚Üê –ù–û–í–ï!

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- üé® –ó–Ω–∞—á–Ω–æ –∫—Ä–∞—â–∞ —è–∫—ñ—Å—Ç—å
- üé® –ß—ñ—Ç–∫—ñ—à—ñ –¥–µ—Ç–∞–ª—ñ
- üé® –í–∏—Ä–∞–∑–Ω—ñ—à—ñ –∫–æ–ª—å–æ—Ä–∏
- üé® –ü—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∏–π –≤–∏–≥–ª—è–¥

**–¶–µ –º–∞–∫—Å–∏–º—É–º —â–æ –º–æ–∂–Ω–∞ –≤–∏—Ç—è–≥–Ω—É—Ç–∏ –∑ 384x384 –º–æ–¥–µ–ª—ñ!** üöÄ

## üéØ –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏:

–Ø–∫—â–æ —è–∫—ñ—Å—Ç—å –≤—Å–µ —â–µ –Ω–µ –≤–ª–∞—à—Ç–æ–≤—É—î:
1. –ù–∞–ª–∞—à—Ç—É–π –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –ø–æ—Å—Ç-–æ–±—Ä–æ–±–∫–∏
2. –°–ø—Ä–æ–±—É–π —ñ–Ω—à—ñ –º–æ–¥–µ–ª—ñ (640x640)
3. –†–æ–∑–≥–ª—è–Ω—å —Å–µ—Ä–≤–µ—Ä–Ω—É –æ–±—Ä–æ–±–∫—É

–ê–ª–µ –∑ –ø–æ—Ç–æ—á–Ω–∏–º–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è–º–∏ —è–∫—ñ—Å—Ç—å –º–∞—î –±—É—Ç–∏ **–ù–ê–ë–ê–ì–ê–¢–û –∫—Ä–∞—â–∞**! ‚ú®
